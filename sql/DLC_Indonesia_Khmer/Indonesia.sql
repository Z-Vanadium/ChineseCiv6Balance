

-- Jongs cost Niter
-- 29/03/25 Jong no longer cost Niter
-- INSERT OR IGNORE INTO Units_XP2 (UnitType , ResourceCost)
-- 	VALUES ('UNIT_INDONESIAN_JONG' , 10);
-- UPDATE Units SET StrategicResource ='RESOURCE_NITER'  WHERE UnitType='UNIT_INDONESIAN_JONG';
-- Jongs moved to Exploration
UPDATE Units SET Cost=345, PrereqCivic='CIVIC_EXPLORATION' WHERE UnitType='UNIT_INDONESIAN_JONG';

INSERT INTO Adjacency_YieldChanges(ID, Description, YieldType, YieldChange, TilesRequired, AdjacentImprovement) VALUES
    ('BBG_KampungFaithFishing', 'Placeholder', 'YIELD_FAITH', 1, 1, 'IMPROVEMENT_FISHING_BOATS');
INSERT INTO Improvement_YieldChanges(ImprovementType, YieldType, YieldChange) VALUES
    ('IMPROVEMENT_KAMPUNG', 'YIELD_FAITH', 0);
INSERT INTO Improvement_Adjacencies(ImprovementType, YieldChangeId) VALUES
    ('IMPROVEMENT_KAMPUNG', 'BBG_KampungFaithFishing');

-- 2025/10/11 jong -5 strength, and +5 with square rigging
UPDATE Units SET Combat=40, RangedCombat=50 WHERE UnitType='UNIT_INDONESIAN_JONG';

INSERT INTO Types(Type, Kind) VALUES
    ('CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING', 'KIND_ABILITY');
INSERT INTO TypeTags (Type, Tag) VALUES
    ('CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING', 'CLASS_JONG');
INSERT INTO UnitAbilities (UnitAbilityType, Name, Description, Inactive) VALUES
    ('CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING', 'LOC_CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING_NAME', 'LOC_CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING_DESC', 1);
INSERT INTO UnitAbilityModifiers (UnitAbilityType, ModifierId) VALUES
    ('CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING', 'CCB_JONG_COMBAT_SQUARE_RIGGING_MODIFIER');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
    ('CCB_JONG_COMBAT_SQUARE_RIGGING_GIVER', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'BBG_UTILS_PLAYER_HAS_TECH_SQUARE_RIGGING'),
    ('CCB_JONG_COMBAT_SQUARE_RIGGING_MODIFIER', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH', NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('CCB_JONG_COMBAT_SQUARE_RIGGING_GIVER', 'AbilityType', 'CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING'),
    ('CCB_JONG_COMBAT_SQUARE_RIGGING_MODIFIER', 'Amount', 5);
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
    ('TRAIT_CIVILIZATION_INDONESIA_NUSANTARA', 'CCB_JONG_COMBAT_SQUARE_RIGGING_GIVER');
INSERT INTO ModifierStrings (ModifierId, Context, Text) VALUES
    ('CCB_JONG_COMBAT_SQUARE_RIGGING_MODIFIER', 'Preview', 'LOC_CCB_ABILITY_JONG_COMBAT_SQUARE_RIGGING_DESC');

-- 29/03/25 Faith on districts works on all specialty district and city center
-- 20/06/25 +1 base doubled when Shipbuilding is unlocked (city center always give 2)
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'REQUIRES_PLOT_IS_ADJACENT_TO_COAST'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_CITY_CENTER'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_AQUEDUCT'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_CANAL'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_DAM'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_NEIGHBORHOOD'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_SPACEPORT'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST', 'BBG_REQUIRES_DISTRICT_IS_NOT_WORLD_WONDER');
-- UPDATE Modifiers SET SubjectRequirementSetId='BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST' WHERE ModifierId='TRAIT_FAITH_CITY_CENTER';
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_FAITH_DISTRICT_INDO_BASE', 'MODIFIER_PLAYER_DISTRICTS_ADJUST_YIELD_CHANGE', 'BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
     ('BBG_FAITH_DISTRICT_INDO_BASE', 'Amount', 1),
     ('BBG_FAITH_DISTRICT_INDO_BASE', 'YieldType', 'YIELD_FAITH');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
     ('TRAIT_LEADER_EXALTED_GODDESS', 'BBG_FAITH_DISTRICT_INDO_BASE');
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements ( RequirementSetId, RequirementId ) VALUES
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'REQUIRES_PLOT_IS_ADJACENT_TO_COAST'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_CITY_CENTER'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_AQUEDUCT'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_CANAL'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_DAM'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_NEIGHBORHOOD'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_SPACEPORT'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_REQUIRES_DISTRICT_IS_NOT_WORLD_WONDER'),
    ('BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING', 'BBG_UTILS_PLAYER_HAS_TECH_SHIPBUILDING_REQUIREMENT');
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
    ('BBG_FAITH_DISTRICT_INDO_SHIPBUILDING', 'MODIFIER_PLAYER_DISTRICTS_ADJUST_YIELD_CHANGE', 'BBG_SPECIAL_DISTRICT_OR_CITY_CENTER_ON_COAST_SHIPBUILDING');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
    ('BBG_FAITH_DISTRICT_INDO_SHIPBUILDING', 'Amount', 1),
    ('BBG_FAITH_DISTRICT_INDO_SHIPBUILDING', 'YieldType', 'YIELD_FAITH');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
     ('TRAIT_LEADER_EXALTED_GODDESS', 'BBG_FAITH_DISTRICT_INDO_SHIPBUILDING');


-- 2025/10/11 city center base to +1 faith
UPDATE ModifierArguments SET Value=1 WHERE ModifierId='TRAIT_FAITH_CITY_CENTER' AND Name='Amount';

-- 2025/10/11 city center extra +1 faith with tech shipbuilding
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES 
('TRAIT_LEADER_EXALTED_GODDESS', 'CCB_FAITH_CITY_CENTER_SHIPBUILDING');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES 
('CCB_FAITH_CITY_CENTER_SHIPBUILDING', 'MODIFIER_PLAYER_DISTRICTS_ADJUST_YIELD_CHANGE', 0, 0, 0, NULL, 'REQSET_CCB_DISTRICT_IS_CITY_CENTER_AND_ON_COAST_SHIPBUILDING');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES 
('CCB_FAITH_CITY_CENTER_SHIPBUILDING', 'Amount', '1'), 
('CCB_FAITH_CITY_CENTER_SHIPBUILDING', 'YieldType', 'YIELD_FAITH');

INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES 
('REQSET_CCB_DISTRICT_IS_CITY_CENTER_AND_ON_COAST_SHIPBUILDING', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES 
('REQSET_CCB_DISTRICT_IS_CITY_CENTER_AND_ON_COAST_SHIPBUILDING', 'REQUIRES_DISTRICT_IS_CITY_CENTER'), 
('REQSET_CCB_DISTRICT_IS_CITY_CENTER_AND_ON_COAST_SHIPBUILDING', 'REQUIRES_PLOT_IS_ADJACENT_TO_COAST'),
('REQSET_CCB_DISTRICT_IS_CITY_CENTER_AND_ON_COAST_SHIPBUILDING', 'BBG_UTILS_PLAYER_HAS_TECH_SHIPBUILDING_REQUIREMENT');


-- 29/03/25 Can buy encampment and campus buildings
INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
     ('BBG_INDONESIA_FAITH_HARBOR_BUILDING', 'MODIFIER_PLAYER_CITIES_ENABLE_BUILDING_FAITH_PURCHASE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
     ('BBG_INDONESIA_FAITH_HARBOR_BUILDING', 'DistrictType', 'DISTRICT_HARBOR');
 INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
     ('TRAIT_LEADER_EXALTED_GODDESS', 'BBG_INDONESIA_FAITH_HARBOR_BUILDING');